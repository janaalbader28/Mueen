<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <link rel="icon" href="images/favicon.ico">
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ูุฑุญุจุงู โ ูุนููู</title>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body class="app-bg">

  <div class="audio-notification" id="audioNotification">
    ๐ ุงููุณุงุนุฏ ุงูุตูุชู ุฌุงูุฒ
  </div>

  <!-- ูุต ูุฎูู ููููููููู -->
  <div class="sr-only">
    ุชุทุจูู ูุนููู - ูุธุงู ุงูุทูุงุฑุฆ ูุฐูู ุงูุฅุนุงูุฉ. ุฒุฑ ุงููุณุงุนุฏ ุงูุตูุชู ูู ุงูุฒุงููุฉ ุงููุณุฑู ุงูุณูููุฉ.
  </div>

  <main class="phone">
    <div id="splash">
      <img src="images/logo.png" alt="ูุนููู" class="splash-logo">
    </div>
    
    <header class="statusbar">โฆโฆ ๐<span class="status-icons">9:41</span></header>

    <div class="content welcome">
      <a href="welcome.html">
        <img src="images/logo.png" alt="ูุนููู" class="logo-img">
      </a>

      <h1 class="big-title">ูุฑุญุจุงู ุจู ูู<br>ููุนููู</h1>

      <a class="pill-btn primary" href="login.html">ุงุจุฏุฃ</a>
    </div>

    <!-- ุฒุฑ ุงููุณุงุนุฏ ุงูุฐูู -->
    <button id="startMueen"  class="ai-assistant-btn" onclick="openAIAssistant()" aria-label="ูุชุญ ุงููุณุงุนุฏ ุงูุฐูู">
      ๐ค
    </button>

    <!-- ูุงูุฐุฉ ุงููุณุงุนุฏ -->
    <div class="ai-window" id="aiWindow">
      <div class="ai-header">
        <h3 class="ai-title">ุงููุณุงุนุฏ ุงูุฐูู - ูุนููู</h3>
        <button class="ai-close" onclick="closeAI()" aria-label="ุฅุบูุงู ุงููุงูุฐุฉ">โ</button>
      </div>
      
      <div class="ai-message" id="aiMessage">
        ๐ฏ ูุฑุญุจุงู! ุฃูุง ูุณุงุนุฏู ุงูุฐูู. ูููููู:
        <br>โข ุชูุฌููู ููุฎุฏูุงุช ุงูููุงุณุจุฉ
        <br>โข ูุฑุงุกุฉ ูุญุชูู ุงูุตูุญุงุช
        <br>โข ุงููุณุงุนุฏุฉ ูู ุงูุทูุงุฑุฆ
        <br>โข ุงูุชูุงุนู ุจุงููุบุฉ ุงูุนุฑุจูุฉ
      </div>
      
      <div class="ai-controls">
        <button class="ai-btn secondary" onclick="showArabicCommands()">
          ๐ ุงูุฃูุงูุฑ ุงููุชุงุญุฉ
        </button>
        <button class="ai-btn secondary" onclick="readPageContent()">
          ๐ ุงูุฑุฃ ูุฐู ุงูุตูุญุฉ
        </button>
<button class="ai-btn secondary" onclick="handleServiceButton('services')">
  ๐ ุฎุฏูุงุช ุงููุซุงุฆู ุงูุฑุณููุฉ
</button>

<button class="ai-btn secondary" onclick="handleServiceButton('emergency')">
  ๐ฅ ุงูุฐูุงุจ ููุทูุงุฑุฆ
</button>
      </div>
    </div>

  </main>
  
  <script src="mueen.js"></script>
  <script src="javascript.js"></script>
  <script>


    // ุฏุงูุฉ ุนุฑุถ ุงูุฅุดุนุงุฑ
    function showNotification(message) {
      const notification = document.getElementById('audioNotification');
      notification.textContent = message;
      notification.style.display = 'block';
      setTimeout(() => {
        notification.style.display = 'none';
      }, 3000);
    }

    // ุฏุงูุฉ ูุชุญ ูุงูุฐุฉ ุงููุณุงุนุฏ
    function openAIAssistant() {
      document.getElementById('aiWindow').style.display = 'block';
      speakArabic("ูุฑุญุจุงูุ ุฃูุง ูุณุงุนุฏู ุงูุฐูู ูุนููู. ููู ูููููู ูุณุงุนุฏุชู ุงููููุ");
    }
    
    // ุฏุงูุฉ ุฅุบูุงู ุงููุงูุฐุฉ
    function closeAI() {
      document.getElementById('aiWindow').style.display = 'none';
      speakArabic("ุฅูู ุงูููุงุกุ ุฃูุง ููุง ุฅุฐุง ุงุญุชุฌุชูู");
    }
function handleServiceButton(type) {
  if (speechSynthesis.speaking) speechSynthesis.cancel();

  if (recognition) recognition.stop();

  if (type === "services") {
    if (!userData.email || !userData.password) {
      speak("ูููุตูู ุฅูู ุงูุฎุฏูุงุชุ ูู ูุถูู ุณุฌู ุงูุฏุฎูู ุฃููุงู.");
      window.location.href = "login.html";
    } else {
      startMueenServicesFlow();
    }
  } 
  else if (type === "emergency") {
    const callNumber = "997"; // emergency number
    const message = `ุฌุงุฑู ุงูุงุชุตุงู ุจุงูุทูุงุฑุฆ ุงูุขู ุนูู ${callNumber}`;
    const utterance = new SpeechSynthesisUtterance(message);
    utterance.lang = "ar-SA";

    utterance.onend = () => {
      window.location.href = `emergency.html?call=${callNumber}`;
    };

    speechSynthesis.speak(utterance);
  }
}


    // ุฏุงูุฉ ุนุฑุถ ุงูุฃูุงูุฑ ุงููุชุงุญุฉ
    function showArabicCommands() {
      const commands = 
"ุงูุฃูุงูุฑ ุงููุชุงุญุฉ: ุฎุฏูุงุช ุงููุซุงุฆู ุงูุฑุณููุฉุ ุทูุจ ุฏุนู ุฃู ุงููุณุงุนุฏุฉุ ุงูุงุณุชุนูุงูุงุชุ ุงุชุตุงู ุนูู ุงูุทูุงุฑุฆ.";
      document.getElementById('aiMessage').textContent = commands;
      speakArabic(commands);
    }

    // ุฏุงูุฉ ูุฑุงุกุฉ ูุญุชูู ุงูุตูุญุฉ
    function readPageContent() {
      const text = document.body.innerText;
      document.getElementById('aiMessage').textContent = "๐ ุฌุงุฑู ูุฑุงุกุฉ ูุญุชูู ุงูุตูุญุฉ...";
      speakArabic(text);
    }

    // ุฏุงูุฉ ูุญุงูุงุฉ ุงููุทู ุจุงูุนุฑุจูุฉ
    function speakArabic(text) {
      if ('speechSynthesis' in window) {
        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = "ar-SA"; // ููุฌุฉ ุณุนูุฏูุฉ ุนุฑุจูุฉ
        speechSynthesis.speak(utterance);
      } else {
        console.log("ุงููุทู ุบูุฑ ูุฏุนูู ูู ูุฐุง ุงููุชุตูุญ.");
      }
    }
  </script>
  <script>
  document.getElementById("startMueen").addEventListener("click", () => {
    startMueen(); // ุฏุงูุฉ ูู mueen.js
  });
</script>
</body>
</html>
